\documentclass[a4paper,12pt]{article}
\input{../commons/preamble}

\begin{document}
    \input{subfiles/titlepage}

    \tableofcontents

    \section{Цели работы}
    \begin{itemize}
        \item Закрепление знаний и получение практических навыков синтеза комбинационных схем в заданном
        элементном базисе.
        \item Получение навыков ввода проекта в графическом редакторе пакета QП, тестирования и отладки проекта и
        исследования на модели рисков сбоев.
        \item Получение навыков отладки цифровых устройств данного класса на физической модели: конфигурирование ПЛИС и
        экспериментальная проверка работы комбинационной схемы при использовании лабораторной платы miniDiLab.
    \end{itemize}

    \section{Задача}
	В соответствии с вариантом, составить таблицу истинности для логической функции 5 переменных. Минимизировать функцию при помощи карт
	Карно. Синтезировать комбинационную схему и исследовать ее при помощи САПР Quartus Prime. Реализовать полученную
	комбинационную схему на физической модели.
	
	Исходная функция задана таблично:
	\begin{table}[H]
		\centering
		\begin{tabular}{|c|c|}
		\hline Для значений $y = 1$ & Для значений $y = \textit{н}$ \\
		\hline $1, 6-10, 13, 15, 20-25, 28, 31$ & $3, 4, 12, 17, 26$ \\
		\hline
		\end{tabular}
	\end{table}
    \section{Ход работы}
    \subsection{Получение таблицы истинности}
    Для построения таблицы истинности необходимо перебрать все возможные
    наборы значений аргументов и указать данное значение $y_{\text{исх}}$ для каждого набора.
    Столбец $y_{\text{теор}}$ соответствует выбранным значениям для наборов <<н>>, столбец
    $y_{\text{эксп}}$ -- значениям, полученным в процессе тестирования комбинационной схемы,
    $y_{\text{физ}}$ -- значениям, полученным в процессе тестирования физической схемы.
    \begin{table}[H]
		\centering
		\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|}
		\hline
		№ & $x_1$ & $x_2$ & $x_3$ & $x_4$ & $x_5$ & $y_{\text{исх}}$ & $y_{\text{теор}}$ & $y_{\text{эксп}}$ & $y_{\text{физ}}$ \\
		\hline 
		0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
		\hline 
		1 & 0 & 0 & 0 & 0 & 1 & 1 & 1 & 1 & 1 \\
		\hline 
		2 & 0 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\
		\hline 
		3 & 0 & 0 & 0 & 1 & 1 & н & 0 & 0 & 0 \\
		\hline 
		4 & 0 & 0 & 1 & 0 & 0 & н & 0 & 0 & 0 \\
		\hline 
		5 & 0 & 0 & 1 & 0 & 1 & 0 & 0 & 0 & 0 \\
		\hline 
		6 & 0 & 0 & 1 & 1 & 0 & 1 & 1 & 1 & 1 \\
		\hline 
		7 & 0 & 0 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
		\hline 
		8 & 0 & 1 & 0 & 0 & 0 & 1 & 1 & 1 & 1 \\
		\hline 
		9 & 0 & 1 & 0 & 0 & 1 & 1 & 1 & 1 & 1 \\
		\hline 
		10 & 0 & 1 & 0 & 1 & 0 & 1 & 1 & 1 & 1 \\
		\hline 
		11 & 0 & 1 & 0 & 1 & 1 & 0 & 0 & 0 & 0 \\
		\hline 
		12 & 0 & 1 & 1 & 0 & 0 & н & 1 & 1 & 1 \\
		\hline 
		13 & 0 & 1 & 1 & 0 & 1 & 1 & 1 & 1 & 1 \\
		\hline 
		14 & 0 & 1 & 1 & 1 & 0 & 0 & 0 & 0 & 0 \\
		\hline 
		15 & 0 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
		\hline 
		16 & 1 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\
		\hline 
		17 & 1 & 0 & 0 & 0 & 1 & н & 1 & 1 & 1 \\
		\hline 
		18 & 1 & 0 & 0 & 1 & 0 & 0 & 0 & 0 & 0 \\
		\hline 
		19 & 1 & 0 & 0 & 1 & 1 & 0 & 0 & 0 & 0 \\
		\hline 
		20 & 1 & 0 & 1 & 0 & 0 & 1 & 1 & 1 & 1 \\
		\hline 
		21 & 1 & 0 & 1 & 0 & 1 & 1 & 1 & 1 & 1 \\
		\hline 
		22 & 1 & 0 & 1 & 1 & 0 & 1 & 1 & 1 & 1 \\
		\hline 
		23 & 1 & 0 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
		\hline 
		24 & 1 & 1 & 0 & 0 & 0 & 1 & 1 & 1 & 1 \\
		\hline 
		25 & 1 & 1 & 0 & 0 & 1 & 1 & 1 & 1 & 1 \\
		\hline 
		26 & 1 & 1 & 0 & 1 & 0 & н & 1 & 1 & 1 \\
		\hline 
		27 & 1 & 1 & 0 & 1 & 1 & 0 & 0 & 0 & 0 \\
		\hline 
		28 & 1 & 1 & 1 & 0 & 0 & 1 & 1 & 1 & 1 \\
		\hline 
		29 & 1 & 1 & 1 & 0 & 1 & 0 & 0 & 0 & 0 \\
		\hline 
		30 & 1 & 1 & 1 & 1 & 0 & 0 & 0 & 0 & 0 \\
		\hline 
		31 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 & 1 \\
		\hline
		\end{tabular}
		\label{tab:truth}
		\caption{Составленная таблица истинности}
    \end{table}
    
    \subsection{Минимизация функции}
    По полученной таблице истинности построим карту Карно и произведем склеивания.
    \begin{center}
    \begin{kvmap}
		\begin{kvmatrix}{x_3,x_2,x_1,x_5,x_4}
			0        & 0        & 1        & 1 & 1 & 1 & 1 & \text{н}\\
			0        & 0        & \text{н} & 1 & 0 & 0 & 1 & 1       \\
			\text{н} & 0        & 0        & 0 & 1 & 1 & 1 & 1       \\
			1        & \text{н} & 1        & 1 & 1 & 0 & 1 & 0
		\end{kvmatrix}
		\bundle{2}{0}{3}{1}
		\bundle{4}{0}{5}{0}
		\bundle{6}{0}{6}{3}
		\bundle{7}{1}{7}{2}
		\bundle[color=blue]{4}{2}{7}{2}
		\bundle{4}{2}{4}{3}
		\bundle{0}{3}{3}{3}
    \end{kvmap}
    \end{center}
	По результатам склеивания запишем ЛФ в минимальной ДНФ:
	\begin{equation*}
		y = x_2 \overline{x}_3 \overline{x}_5 + x_2 x_3 \overline{x}_4 \overline{x}_5 + x_1 \overline{x}_2 x_3 + \overline{x}_1 \overline{x}_2 + x_3 x_4 + x_3 x_4 x_5 + \overline{x}_1 x_2 x_3 x_5 + \overline{x}_3 \overline{x}_4 x_5
	\end{equation*}
	
	Получив логическую функцию в минимальной форме, синтезируем ее схему в базисе И-ИЛИ-НЕ, используя
	графический редактор Quartus Prime, а также выполним анализ и синтез и назначим входные и выходные
	сигналы на выводы микросхемы.
	\begin{figure}[H]
		\centering
		\includegraphics[width=\linewidth]{subfiles/images/scheme}
		\caption{Полученная схема}
		\label{fig:scheme}
	\end{figure}
	
	\begin{figure}[H]
		\centering
		\includegraphics[width=\linewidth]{subfiles/images/pins}
		\caption{Назначенные сигналы}
		\label{fig:pins}
	\end{figure}
	
	\subsection{Анализ синтеза комбинационной схемы}
	Для начала воспользуемся RTL Viewer для рассмотрения преобразования
	логики в процессе синтеза. На рисунке видно, что существенных изменений
	не произошло, за исключением того, что теперь инверсия переменных
	реализуется на входах логических элементов.
	\begin{figure}[H]
		\centering
		\includegraphics[width=0.5\linewidth]{subfiles/images/rtl}
		\caption{Логическое представление устройства в RTL Viewer}
		\label{fig:rtl}
	\end{figure}
	На основе полученного RTL описания в процессе синтеза в элементном
	базисе выбранной для проекта ПЛИС синтезируется новая схема (Netlist)
	с той же функциональностью, что и исходная схема. Синтезированное
	представление схемы в базисе целевой ПЛИС доступно в Technology Map Viewer.
	\begin{figure}[H]
		\centering
		\includegraphics[width=\linewidth]{subfiles/images/tmv}
		\caption{Схема устройства в Technology Map Viewer}
		\label{fig:rmv}
	\end{figure}
	
	В редакторе временных диаграмм САПР QP создадим тест, в котором работа
	КС проверяется на всех наборах входных сигналов.
	\begin{figure}[H]
		\centering
		\includegraphics[width=\linewidth]{subfiles/images/wave}
		\caption{Временная диаграмма}
		\label{fig:wave}
	\end{figure}
	На диаграмме видно, что полученные выходные сигналы совпадают с ожидаемыми,
	следовательно, схема реализована верно. 
	
	Последним шагом в работе была реализация КС на физической модели.
	При помощи Quartus Prime, была запрограммирована микросхема
	miniDiLaB-CIV c ПЛИС Cyclone IV EP4CE6E22C8N, на которой при помощи переключателей и светодиодов 
	еще раз была проверена правильность работы логической функции.
	\begin{figure}[H]
		\centering
		\includegraphics[width=0.5\linewidth]{subfiles/images/chip}
		\caption{Пример работы физической модели}
		\label{fig:chip}
	\end{figure}
	
	\section{Вывод}
	В результате работы заданная таблично логическая функция была минимизирована при помощи карт
	Карно. Была синтезирована и исследована комбинационная схема. В заключение, она была 
	реализована на физической модели.
\end{document}
